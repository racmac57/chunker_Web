[IMPORT] os
[IMPORT] matplotlib.pyplot
[IMPORT] matplotlib.ticker
[IMPORT] glob
[IMPORT] arcpy
[FROM IMPORT] from datetime import date, datetime, timedelta
[FROM IMPORT] from config import APR_PATH, get_sql_pattern_for_crime

[FUNCTION]: export_chart(crime_type)
   [Description] Export time-of-day chart with grouped bars using REAL data from ArcGIS layers
    Uses exact timesta...
[VARIABLE]: report_date
[VARIABLE]: base_reports
[VARIABLE]: output_folder
[VARIABLE]: time_periods
[VARIABLE]: period_colors
[VARIABLE]: aprx
[VARIABLE]: maps
[VARIABLE]: map_obj
[VARIABLE]: combined_data
[VARIABLE]: timestamp_dates
[VARIABLE]: time_ranges
[VARIABLE]: time_labels
[VARIABLE]: x_positions
[VARIABLE]: bar_width
[VARIABLE]: max_value
[VARIABLE]: chart_path
[VARIABLE]: period_data
[VARIABLE]: layer_name
[VARIABLE]: target_layer
[VARIABLE]: verified_counts
[VARIABLE]: combined_data
[VARIABLE]: values
[VARIABLE]: positions
[VARIABLE]: bars
[VARIABLE]: total
[IMPORT] traceback
[VARIABLE]: sql_pattern
[VARIABLE]: timestamp
[VARIABLE]: sql_filter
[VARIABLE]: original_query
[VARIABLE]: feature_count
[VARIABLE]: total_chart_incidents
[VARIABLE]: period_data
[VARIABLE]: target_layer
[VARIABLE]: conditions
[VARIABLE]: crime_condition
[VARIABLE]: crime_condition
[VARIABLE]: incident_count
[VARIABLE]: height
[VARIABLE]: records_processed
[VARIABLE]: remaining
[VARIABLE]: calldate
[VARIABLE]: hour
[VARIABLE]: hour
[VARIABLE]: remaining