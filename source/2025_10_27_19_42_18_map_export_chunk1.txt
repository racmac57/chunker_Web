[IMPORT] arcpy
[IMPORT] os
[IMPORT] glob
[IMPORT] logging
[FROM IMPORT] from datetime import datetime, timedelta
[FROM IMPORT] from config import APR_PATH, SYM_LAYER_PATH, SUFFIXES

[FUNCTION]: validate_config()
   [Description] Validate configuration parameters. Returns:
        bool: True if configuration is valid, F...

[FUNCTION]: sanitize_filename(text)
   [Description] Sanitize text for use in filenames. Args:
        text (str): Text to sanitize
        
   ...

[FUNCTION]: export_maps(crime_type, output_folder, args)
   [Description] Export crime maps with different time periods and transparency levels. Args:
        crime_...

[FUNCTION]: build_sql_filter(crime_type, start_date)
   [Description] Build SQL filter based on crime type using config patterns. Args:
        crime_type (str):...

[FUNCTION]: apply_symbology(layer, layer_name)
   [Description] Apply symbology to a layer from a layer file. Args:
        layer: ArcPy layer object
     ...

[FUNCTION]: update_legend_visibility(layout, map_obj, suffix_layers)
   [Description] Update legend to show only relevant layers. Args:
        layout: ArcPy layout object
     ...

[FUNCTION]: cleanup_patch_elements(layout)
   [Description] Remove patch elements from layout. Args:
        layout: ArcPy layout object...

[FUNCTION]: export_map_to_png(layout, crime_type, output_folder)
   [Description] Export layout to PNG file. Args:
        layout: ArcPy layout object
        crime_type (st...
[VARIABLE]: issues
[VARIABLE]: sanitized
[VARIABLE]: aprx
[FROM IMPORT] from config import get_sql_pattern_for_crime
[VARIABLE]: base_conditions
[VARIABLE]: pattern
[VARIABLE]: sql_filter
[VARIABLE]: aprx
[VARIABLE]: layouts
[VARIABLE]: layout
[VARIABLE]: map_frames
[VARIABLE]: map_frame
[VARIABLE]: map_obj
[VARIABLE]: layer_count
[VARIABLE]: base_layers
[VARIABLE]: base_layers_found
[VARIABLE]: dates
[VARIABLE]: suffix_layers
[VARIABLE]: transparency_levels
[VARIABLE]: success
[VARIABLE]: conditions
[VARIABLE]: crime_condition
[VARIABLE]: crime_condition
[VARIABLE]: sym_layer_file
[VARIABLE]: sym_layers
[VARIABLE]: sym_layer
[VARIABLE]: legend
[VARIABLE]: original_sync
[VARIABLE]: hidden_count
[VARIABLE]: shown_count
[VARIABLE]: elements_to_remove
[VARIABLE]: sanitized_crime
[VARIABLE]: cleanup_pattern
[VARIABLE]: old_files
[VARIABLE]: removed_count
[VARIABLE]: export_filename
[VARIABLE]: export_path
[VARIABLE]: available_layouts
[VARIABLE]: today
[VARIABLE]: key
[VARIABLE]: layer_name
[VARIABLE]: layer
[VARIABLE]: legend_elements
[VARIABLE]: file_size
[VARIABLE]: transparency
[VARIABLE]: transparency
[VARIABLE]: available_layers
[VARIABLE]: legend
[VARIABLE]: layer
[VARIABLE]: filter_sql
[VARIABLE]: layer
[VARIABLE]: feature_count